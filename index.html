<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ê–≤—Ç–æ–∫—Ä–∞—Å–∫–∏ –î–í ‚Äì –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 700px;
            margin: 20px auto;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        /* –®–∞–ø–∫–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ */
        .header {
            text-align: center;
            margin-bottom: 15px;
        }
        .header-content {
            display: inline-block;
            text-align: left;
        }
        .logo-link {
            text-decoration: underline;
            text-decoration-color: black;
        }
        .logo-link .black {
            color: black;
            font-size: 2em;
            font-weight: bold;
        }
        .logo-link .red {
            color: red;
            font-size: 2em;
            font-weight: bold;
        }
        .contact-bar {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 0.8em;
            text-transform: uppercase;
            margin-top: 2px;
        }
        .phone, .city {
            color: black;
            text-decoration: none;
        }
        .header-line {
            margin: 5px 0 0 0;
            border: 0;
            border-top: 1px solid #ccc;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-top: 0;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: inline-block;
            width: 320px;
            font-weight: bold;
        }
        input {
            padding: 8px;
            width: 150px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background: #00acc1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            font-size: 1em;
        }
        button:hover {
            background: #00838f;
        }
        .result {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            border: 1px solid #ddd;
        }
        .warning {
            color: #d32f2f;
            background: #ffcdd2;
            padding: 10px;
            border-radius: 4px;
        }
        hr {
            margin: 20px 0;
        }
        .fraction {
            font-size: 1.3em;
            font-weight: bold;
            color: #00acc1;
        }
        .note {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
        }
        .description {
            background-color: #e0f7fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 0.95em;
            border-left: 5px solid #00acc1;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
                margin: 10px;
            }
            label {
                display: block;
                width: auto;
                margin-bottom: 5px;
            }
            input {
                width: 100%;
                box-sizing: border-box;
                font-size: 16px;
            }
            button {
                width: 100%;
                margin-right: 0;
            }
            .contact-bar {
                font-size: 0.7em;
            }
        }
    </style>
</head>
<body>

    <!-- –®–∞–ø–∫–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ -->
    <div class="header">
        <div class="header-content">
            <a href="https://ak-dv.ru" target="_blank" class="logo-link">
                <span class="black">–ê–≤—Ç–æ–∫—Ä–∞—Å–∫–∏</span> <span class="red">–î–í</span>
            </a>
            <div class="contact-bar">
                <span class="phone">+7(4212)205120</span>
                <span class="city">–•–∞–±–∞—Ä–æ–≤—Å–∫</span>
            </div>
        </div>
        <hr class="header-line">
    </div>

    <h1>üßº –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–≤—Ç–æ—à–∞–º–ø—É–Ω—è</h1>

    <!-- ========== –ë–õ–û–ö –†–ê–°–ß–Å–¢–ê –ó–ê–ü–†–ê–í–ö–ò –ú–ï–†–ù–û–ô –ë–£–¢–´–õ–ö–ò ========== -->
    <h3>üß¥ –†–∞—Å—á—ë—Ç –∑–∞–ø—Ä–∞–≤–∫–∏ –º–µ—Ä–Ω–æ–π –±—É—Ç—ã–ª–∫–∏</h3>
    <div class="input-group">
        <label>ü•´ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞ –≤ –º–µ—Ä–Ω–æ–π –±—É—Ç—ã–ª–∫–µ (–º–ª):</label>
        <input type="number" id="targetVolume" value="1000" step="100" min="1">
    </div>
    <div class="input-group">
        <label>üìä –†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –≤ –±—É—Ç—ã–ª–∫–µ(–µ–º–∫–æ—Å—Ç–∏) 1 : M:</label>
        <input type="number" id="givenM" value="10" step="0.1" min="0">
    </div>
    <div class="input-group">
        <label>üîß –†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –º–æ–µ–≥–æ –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞, 1:K (–≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é):</label>
        <input type="number" id="userK" step="0.1" placeholder="–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ">
    </div>
    <button onclick="calcMix()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–∞–≤</button>
    <div id="resultMix" class="result" style="display:none;"></div>
    <div class="note">
        * –ï—Å–ª–∏ –ø–æ–ª–µ ¬´–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞¬ª –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, —Ä–∞—Å—á—ë—Ç –∏–¥—ë—Ç –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º—É–ª–µ (–±–µ–∑ —É—á—ë—Ç–∞ K): —à–∞–º–ø—É–Ω—å = –æ–±—ä—ë–º / (M+1), –≤–æ–¥–∞ = –æ–±—ä—ë–º * M/(M+1).<br>
        * –ï—Å–ª–∏ –≤—ã –≤–≤–µ–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ K, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞: –¥–æ–ª—è —à–∞–º–ø—É–Ω—è = K / (10 * M).<br>
        * –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ K=24 –∏ M=10: –¥–æ–ª—è = 24/100 = 0.24 ‚Üí –Ω–∞ 1000 –º–ª —ç—Ç–æ 240 –º–ª —à–∞–º–ø—É–Ω—è.
    </div>

    <hr>

    <!-- ========== –ë–õ–û–ö –¢–ï–°–¢–ê –û–ë–û–†–£–î–û–í–ê–ù–ò–Ø ========== -->
    <h3>–¢–µ—Å—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h3>

    <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç—É –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ —Å—é–¥–∞ -->
    <div class="description">
        <strong>–ö–∞–∫ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç:</strong> –ó–∞–ª–µ–π—Ç–µ –≤ –±–∞—á–æ–∫ –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞ —Ä–æ–≤–Ω–æ 500 –º–ª —á–∏—Å—Ç–æ–π –≤–æ–¥—ã. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç –∫ –ê–í–î –∏ –≤–∫–ª—é—á–∏—Ç–µ –ø–æ–¥–∞—á—É –≤–æ–¥—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥. –°–æ–±–µ—Ä–∏—Ç–µ –≤—ã—Ö–æ–¥—è—â—É—é –∂–∏–¥–∫–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —ë–º–∫–æ—Å—Ç—å. –ó–∞—Ç–µ–º –≤—ã–∫–ª—é—á–∏—Ç–µ –≤–æ–¥—É –∏ –∏–∑–º–µ—Ä—å—Ç–µ:
        <ul>
            <li><strong>—Å–∫–æ–ª—å–∫–æ –≤–æ–¥—ã –æ—Å—Ç–∞–ª–æ—Å—å –≤ –±–∞—á–∫–µ;</strong></li>
            <li><strong>—Å–∫–æ–ª—å–∫–æ –∂–∏–¥–∫–æ—Å—Ç–∏ —Å–æ–±—Ä–∞–ª–æ—Å—å –Ω–∞ –≤—ã—Ö–æ–¥–µ</strong> (—ç—Ç–æ –∏ –µ—Å—Ç—å –æ–±—ä—ë–º, –≤—ã–ª–∏–≤—à–∏–π—Å—è —á–µ—Ä–µ–∑ –ê–í–î –≤–º–µ—Å—Ç–µ —Å –≤–æ–¥–æ–π –∏–∑ –±–∞—á–∫–∞).</li>
        </ul>
        –í–≤–µ–¥–∏—Ç–µ –≤—Å–µ —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∂–µ. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–º–µ—à–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.
    </div>

    <div class="input-group">
        <label>üîπ –ù–∞–ª–∏—Ç–æ –≤ –±–∞—á–æ–∫ (–º–ª):</label>
        <input type="number" id="initial" value="500" step="1">
    </div>
    <div class="input-group">
        <label>üîπ –û—Å—Ç–∞–ª–æ—Å—å –≤ –±–∞—á–∫–µ (–º–ª):</label>
        <input type="number" id="remaining" value="350" step="1">
    </div>
    <div class="input-group">
        <label>üîπ –í—ã–ª–∏–ª–æ—Å—å —á–µ—Ä–µ–∑ –ê–í–î (—Å–æ–±—Ä–∞–Ω–æ) (–º–ª):</label>
        <input type="number" id="collected" value="300" step="1">
    </div>
    <button onclick="testK()">‚ùì –ö–∞–∫ –º–µ—à–∞–µ—Ç –º–æ–π –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç?</button>
    <div id="resultTest" class="result" style="display:none;"></div>

    <script>
        let currentK = null;

        function computeKFromInputs() {
            const initial = parseFloat(document.getElementById('initial').value);
            const remaining = parseFloat(document.getElementById('remaining').value);
            const collected = parseFloat(document.getElementById('collected').value);

            if (isNaN(initial) || isNaN(remaining) || isNaN(collected) || initial <= 0 || remaining < 0 || collected <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ –≤–æ –≤—Å–µ –ø–æ–ª—è —Ç–µ—Å—Ç–∞.');
                return null;
            }
            if (remaining > initial) {
                alert('–û—Å—Ç–∞—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –Ω–∞–ª–∏—Ç–æ–≥–æ.');
                return null;
            }
            const used = initial - remaining;
            if (used === 0) {
                alert('–†–∞—Å—Ö–æ–¥ –∏–∑ –±–∞—á–∫–∞ —Ä–∞–≤–µ–Ω –Ω—É–ª—é.');
                return null;
            }
            if (collected < used) {
                alert('–°–æ–±—Ä–∞–Ω–Ω—ã–π –æ–±—ä—ë–º –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ —Ä–∞—Å—Ö–æ–¥–∞ –∏–∑ –±–∞—á–∫–∞.');
                return null;
            }
            const avd = collected - used;
            return avd / used;
        }

        function testK() {
            const K = computeKFromInputs();
            if (K === null) return;
            currentK = K;

            const used = document.getElementById('initial').value - document.getElementById('remaining').value;
            const avd = document.getElementById('collected').value - used;

            let ratioText;
            if (K >= 1) {
                const roundedK = Math.round(K);
                ratioText = `1 : ${roundedK} (—Ç–æ—á–Ω–æ ${K.toFixed(3)})`;
            } else {
                const inv = 1 / K;
                const roundedInv = Math.round(inv);
                ratioText = `${roundedInv} : 1 (—Ç–æ—á–Ω–æ 1 : ${K.toFixed(3)})`;
            }

            const resultDiv = document.getElementById('resultTest');
            resultDiv.innerHTML = `
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞</h3>
                <p>–†–∞—Å—Ö–æ–¥ –∏–∑ –±–∞—á–∫–∞: <strong>${used.toFixed(1)} –º–ª</strong></p>
                <p>–†–∞—Å—Ö–æ–¥ –≤–æ–¥—ã –∏–∑ –ê–í–î: <strong>${avd.toFixed(1)} –º–ª</strong></p>
                <p><strong>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç K = ${K.toFixed(3)}</strong></p>
                <p class="fraction">–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ (–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç : –≤–æ–¥–∞) ‚âà ${ratioText}</p>
            `;
            resultDiv.style.display = 'block';
        }

        function calcMix() {
            const targetVolume = parseFloat(document.getElementById('targetVolume').value);
            if (isNaN(targetVolume) || targetVolume <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–∞–≤–∞ –≤ –º–µ—Ä–Ω–æ–π –±—É—Ç—ã–ª–∫–µ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ).');
                return;
            }
            const givenM = parseFloat(document.getElementById('givenM').value);
            if (isNaN(givenM) || givenM < 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ M (–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ).');
                return;
            }

            const userK = parseFloat(document.getElementById('userK').value);

            let usingSpecial = false;
            let K_used = null;
            let shampoo, water;

            if (!isNaN(userK) && userK > 0) {
                usingSpecial = true;
                K_used = userK;
                const denominator = 10 * givenM;
                if (denominator === 0) {
                    alert('M –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–ª—ë–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã.');
                    return;
                }
                const shampooFraction = K_used / denominator;
                shampoo = targetVolume * shampooFraction;
                water = targetVolume - shampoo;
            } else {
                usingSpecial = false;
                shampoo = targetVolume / (givenM + 1);
                water = targetVolume * givenM / (givenM + 1);
            }

            if (shampoo < 0 || water < 0) {
                document.getElementById('resultMix').innerHTML = '<div class="warning">–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</div>';
            } else {
                let message = `üß¥ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è <strong>${targetVolume.toFixed(0)} –º–ª</strong> —Å–º–µ—Å–∏ –≤ –º–µ—Ä–Ω–æ–π –±—É—Ç—ã–ª–∫–µ –ø—Ä–∏ M=${givenM}`;
                if (usingSpecial) {
                    message += ` –∏ –≤—Ä—É—á–Ω—É—é –≤–≤–µ–¥—ë–Ω–Ω–æ–º K=${K_used.toFixed(2)} (—Å —É—á—ë—Ç–æ–º –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞)`;
                } else {
                    message += ` (–±–µ–∑ —É—á—ë—Ç–∞ –ø–µ–Ω–æ–∫–æ–º–ø–ª–µ–∫—Ç–∞)`;
                }
                message += ` –∑–∞–ª–µ–π—Ç–µ:<br>`;
                message += `‚Ä¢ –®–∞–º–ø—É–Ω—å: <strong>${shampoo.toFixed(1)} –º–ª</strong><br>`;
                message += `‚Ä¢ –í–æ–¥–∞: <strong>${water.toFixed(1)} –º–ª</strong><br>`;
                message += `(–æ–±—â–∏–π –æ–±—ä—ë–º –≤ –±—É—Ç—ã–ª–∫–µ: <strong>${(shampoo + water).toFixed(1)} –º–ª</strong>)<br><br>`;
                if (usingSpecial) {
                    const shampooFraction = K_used / (10 * givenM);
                    message += `üìå –î–æ–ª—è —à–∞–º–ø—É–Ω—è: ${(shampooFraction*100).toFixed(1)}%.`;
                } else {
                    message += `üìå –†–∞–∑–≤–µ–¥–µ–Ω–∏–µ 1:${givenM} –≤ –±—É—Ç—ã–ª–∫–µ(–µ–º–∫–æ—Å—Ç–∏) –¥–∞—ë—Ç ${shampoo.toFixed(1)} –º–ª —à–∞–º–ø—É–Ω—è –Ω–∞ ${water.toFixed(1)} –º–ª –≤–æ–¥—ã.`;
                }
                document.getElementById('resultMix').innerHTML = message;
            }
            document.getElementById('resultMix').style.display = 'block';
        }

        document.getElementById('initial').addEventListener('input', function() { currentK = null; document.getElementById('resultTest').style.display = 'none'; });
        document.getElementById('remaining').addEventListener('input', function() { currentK = null; document.getElementById('resultTest').style.display = 'none'; });
        document.getElementById('collected').addEventListener('input', function() { currentK = null; document.getElementById('resultTest').style.display = 'none'; });
    </script>
</body>
</html> 
